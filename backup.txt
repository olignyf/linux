
# backup sda to sdb1

sudo mkdir /mnt/backup
sudo mount /dev/sdb1 /mnt/backup
sudo dd if=/dev/sda conv=sync,noerror bs=100M status=progress | gzip -c > /mnt/backup/diskimage.gz

# OR 

# pv < /dev/sda | gzip -c > /mnt/backup/diskimage.gz

# OR 

export TOTALSIZE=`sudo blockdev --getsize64 /dev/sda` && sudo dd if=/dev/sda conv=sync,noerror bs=100MB | pv -s $TOTALSIZE | gzip -c > /mnt/backup/diskimage.gz

# OR (safer for copy/pasting)

export SOURCE=/dev/sda
export TOTALSIZE=`sudo blockdev --getsize64 /dev/sda` && sudo dd if=$SOURCE conv=sync,noerror bs=100MB | pv -s $TOTALSIZE | gzip -c > /mnt/backup/diskimage.gz



